<form [formGroup]="comicForm">
  <h1 mat-dialog-title>Add New Comic</h1>
  <div mat-dialog-content>
    <div fxLayout="row" fxLayoutGap="10px">
      <div fxFlex>
        <div class="d-block">
          <mat-form-field class="w-100">
            <input formControlName="name" matInput placeholder="Name">
            <mat-error *ngIf="comicForm.get('name').hasError('required')">
              The name field is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="d-block">
          <mat-form-field class="w-100">
            <input formControlName="issues" matInput placeholder="Issues">
            <mat-error *ngIf="comicForm.get('issues').hasError('required')">
              The issues field is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="d-block">
          <mat-form-field class="w-100">
            <textarea formControlName="description" matInput placeholder="Description"></textarea>
            <mat-error *ngIf="comicForm.get('description').hasError('required')">
              The description field is required
            </mat-error>
          </mat-form-field>
        </div>

        <div class="d-block">
          <mat-form-field class="w-100">
            <mat-label>Genres</mat-label>
            <mat-select formControlName="genres" multiple>
              <mat-option value="1">Option #1</mat-option>
              <mat-option value="2">Option #2</mat-option>
              <mat-option value="3">Option #3</mat-option>
            </mat-select>
            <mat-error *ngIf="comicForm.get('genres').hasError('required')">
              At least 1 must be selected
            </mat-error>
          </mat-form-field>
        </div>

        <div class="d-block">
          <mat-form-field class="w-100">
            <mat-label>Authors</mat-label>
            <mat-select formControlName="authors" multiple>
              <mat-option value="1">Option #1</mat-option>
              <mat-option value="2">Option #2</mat-option>
              <mat-option value="3">Option #3</mat-option>
            </mat-select>
            <mat-error *ngIf="comicForm.get('authors').hasError('required')">
              At least 1 must be selected
            </mat-error>
          </mat-form-field>
        </div>

        <div class="d-block">
          <mat-form-field class="w-100">
            <mat-label>Publisher</mat-label>
            <mat-select formControlName="publisher">
              <mat-option value="1">Some #1</mat-option>
              <mat-option value="2">Some #2</mat-option>
              <mat-option value="3">Some #3</mat-option>
            </mat-select>
            <mat-error *ngIf="comicForm.get('publisher').hasError('required')">
              At least 1 must be selected
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div fxLayout="column" fxLayoutAlign="start center" fxFlex>
        <input #file type="file" accept="image/*" class="file-upload" (change)="preview(file.files)" />
        <button mat-button color="primary" (click)="onUploadClick(file)">
          <mat-icon>file_upload</mat-icon>
          Upload Image
        </button>
        <img class="img-fluid" [src]="imgUrl" *ngIf="imgUrl" />
      </div>

    </div>
  </div>
  <div mat-dialog-actions>
    <button mat-raised-button type="submit" [disabled]="!comicForm.valid" color="primary">
      {{btnText}}
    </button>
    <button mat-raised-button type="button" (click)="onNoClick()" color="warn">Cancel</button>
  </div>
</form>
